<div class="container-fluid p-2">
    <div class="card">
        <div class="card-header p-1 pt-2 pl-2">
            <h2>Employee</h2>
        </div>
        <!-- <div fxLayout fxLayoutAlign="center center">
            <mat-form-field fxFlex="40%">
            <input matInput type="text" (keyup)="doFilter($event.target.value)" placeholder="Filter">
            </mat-form-field>
        </div> -->
        <div class="p-2">
            <button mat-raised-button (click)="addEmployee()">
                <mat-icon>add</mat-icon>
                Add Employee
            </button>
        </div>
        <h2 class="ml-2 mb-1 mt-2">Employees</h2>
        <div class="mat-elevation-z8  ml-2 mr-2 w-90">
            <table mat-table [dataSource]="dataSource" class="w-100">
                <ng-container matColumnDef="firstName">
                    <th mat-header-cell *matHeaderCellDef> First Name </th>
                    <td mat-cell *matCellDef="let employee"> {{employee.firstName}} </td>
                </ng-container>
                <ng-container matColumnDef="lastName">
                    <th mat-header-cell *matHeaderCellDef> Last Name </th>
                    <td mat-cell *matCellDef="let employee"> {{employee.lastName}} </td>
                </ng-container>

                <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef> Email </th>
                    <td mat-cell *matCellDef="let employee"> {{employee.email}} </td>
                </ng-container>

                <ng-container matColumnDef="userName">
                    <th mat-header-cell *matHeaderCellDef> User Name </th>
                    <td mat-cell *matCellDef="let employee"> {{employee.userName}} </td>
                </ng-container>
                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef> Action </th>
                    <td mat-cell *matCellDef="let employee">
                        <button mat-icon-button color="accent" (click)="editEmployee(employee)">
                            <mat-icon class="mat-18">edit</mat-icon>
                        </button>
                        <button mat-icon-button color="accent" (click)="deleteEmployee(employee)">
                            <mat-icon class="mat-18">delete</mat-icon>
                        </button>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <mat-paginator [pageSize]="2" [pageSizeOptions]="[2, 4, 6, 10, 20]">
            </mat-paginator>
        </div>
        <div *ngIf="showEmployeeForm">
            <h3 class="p-2">{{ action }} Employee</h3>
            <form [formGroup]="employeeForm" class="ml-3" (ngSubmit)="submitForm()" novalidate>
                <mat-form-field class="example-full-width">
                    <mat-label>First Name</mat-label>
                    <input matInput placeholder="Name" formControlName="firstName">
                    <mat-error *ngIf="employeeForm.get('firstName').hasError('required') && 
                            (employeeForm.get('firstName').dirty || 
                            employeeForm.get('firstName').touched)">
                        First Name is required.
                    </mat-error>
                </mat-form-field>
                <mat-form-field class="example-full-width">
                    <mat-label>Last Name</mat-label>
                    <input matInput placeholder="Last Name" formControlName="lastName">
                    <mat-error *ngIf="employeeForm.get('lastName').hasError('required') && 
                            (employeeForm.get('lastName').dirty || 
                            employeeForm.get('lastName').touched)">
                        Last Name is required.
                    </mat-error>
                </mat-form-field>
                <mat-form-field class="example-full-width" *ngIf="action === 'Add'">
                    <mat-label>User Name</mat-label>
                    <input matInput placeholder="User Name" formControlName="userName">
                    <mat-error *ngIf="employeeForm.get('userName').hasError('required') && 
                            (employeeForm.get('userName').dirty || 
                            employeeForm.get('userName').touched)">
                        User Name is required.
                    </mat-error>
                </mat-form-field>
                <mat-form-field class="example-full-width" *ngIf="action === 'Add'">
                    <mat-label>Password</mat-label>
                    <input matInput type="Password" placeholder="Password" formControlName="password">
                    <mat-error *ngIf="employeeForm.get('password').hasError('required') && 
                            (employeeForm.get('password').dirty || 
                            employeeForm.get('password').touched)">
                        Password is required.
                    </mat-error>
                </mat-form-field>
                <mat-form-field class="example-full-width">
                    <mat-label>Email</mat-label>
                    <input matInput placeholder="Email" formControlName="email">
                    <mat-error *ngIf="employeeForm.get('email').hasError('required') && 
                            (employeeForm.get('email').dirty || 
                            employeeForm.get('email').touched)">
                        Email is required.
                    </mat-error>
                </mat-form-field>
                <div class="button-wrapper">
                    <button mat-flat-button color="primary">Submit</button>
                </div>
            </form>
        </div>
    </div>